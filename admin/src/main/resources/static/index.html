<!DOCTYPE html>
<html lang="en">

<head>
    <title>Browsers statistic</title>
    <div class="container" style="padding-top: 10px;">
        <a href="index.html" role="button">Browsers</a>
        <a href="page.html" role="button">Pages</a>
        <a href="time.html" role="button">Time</a>
        <a href="day.html" role="button">Days</a>
        <a href="country.html" role="button">Countries</a>
    </div>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages': ['bar']});
        google.charts.setOnLoadCallback(drawStatistic);
        var dataArray = [['Browser', 'Count']]
        $.ajaxSetup({
            async: false
        });
        $.getJSON('http://localhost:8082/browsers', function (data) {
            var jsonObj = data;
            for (var i in jsonObj) {
                dataArray.push([jsonObj[i].name, jsonObj[i].count]);
            }
        });

        function drawStatistic() {
            var data = new google.visualization.arrayToDataTable(dataArray);
            var options = {
                width: 800,
                legend: {position: 'none'},
                chart: {
                    title: 'Browser statistics',
                },
                bar: {groupWidth: "90%"}
            };
            var chart = new google.charts.Bar(document.getElementById('chart'));
            chart.draw(data, google.charts.Bar.convertOptions(options));
        }
    </script>
</head>

<body>
<div id="chart" style="width: 1200px; height: 600px;"></div>
</body>
</html>